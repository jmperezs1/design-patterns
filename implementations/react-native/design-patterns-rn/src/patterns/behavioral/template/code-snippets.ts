import type { CodeSnippet } from '../../../registry/types';

export const templateCodeSnippets: CodeSnippet[] = [
  { title: 'abstract-class.ts', language: 'ts', code: `export abstract class FormTemplate {\n  async submit(formData: Record<string, any>) { const cleanData = this.validate(formData); const result = await this.send(cleanData); await this.afterSuccess(result); return this.successMessage(result); }\n  protected abstract validate(data: Record<string, any>): Record<string, any>;\n  protected abstract send(cleanData: Record<string, any>): Promise<any>;\n  protected abstract afterSuccess(result: any): Promise<void>;\n  protected abstract successMessage(result: any): string;\n}` },
  { title: 'concrete-signup.ts', language: 'ts', code: `import { FormTemplate } from './abstract-class';\nexport class SignupFlow extends FormTemplate {\n  protected validate(data: Record<string, any>) { if (!data.email) throw new Error('Email is required'); if (!data.password) throw new Error('Password is required'); return { email: String(data.email).trim().toLowerCase(), password: data.password }; }\n  protected async send(cleanData: Record<string, any>) { console.log('[Signup] sending to server:', cleanData); return { userId: 'user_' + Math.random().toString(36).slice(2), email: cleanData.email }; }\n  protected async afterSuccess(result: any) { console.log('[Signup] analytics event for user', result.userId); }\n  protected successMessage(result: any) { return \`Welcome, ${'${'}result.email}! Your account is ready.\`; }\n}` },
  { title: 'concrete-support.ts', language: 'ts', code: `import { FormTemplate } from './abstract-class';\nexport class ContactFlow extends FormTemplate {\n  protected validate(data: Record<string, any>) { if (!data.subject) throw new Error('Subject is required'); if (!data.message) throw new Error('Message is required'); return { subject: String(data.subject).trim(), message: String(data.message).trim(), priority: data.priority || 'normal' }; }\n  protected async send(cleanData: Record<string, any>) { console.log('[Contact] sending ticket:', cleanData); return { ticketId: 'TICKET-' + Date.now(), status: 'open' }; }\n  protected async afterSuccess(result: any) { console.log('[Contact] notify support about', result.ticketId); }\n  protected successMessage(result: any) { return \`Ticket ${'${'}result.ticketId} created. We'll reply soon.\`; }\n}` },
];
